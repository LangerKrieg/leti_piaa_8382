Code with comments:
https://ideone.com/496GjM
Code from stepik:
https://ideone.com/AWQzRX
